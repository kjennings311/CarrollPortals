@model Carroll.Portals.Models.PrintEmployeeLeaseRider

@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Verify Employee Lease Rider  </title>

    <link href="/Content/bootstrap.min.css" rel="stylesheet" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Herr+Von+Muellerhoff&display=swap" rel="stylesheet">
    <style type="text/css">
        html, body {
            overflow: scroll;
        }


        body {
            font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
            color: #555555;
            font-size: 10px;
        }

        .italic {
            font-family: 'Herr Von Muellerhoff', cursive;
            font-weight: bold;
            font-size: 22px;
        }

        input {
            border: none;
            border-bottom: 1px solid #0c0606;
            padding: 5px;
        }

        p {
            margin-bottom: 10px !important;
        }

        ol li span {
            margin-top: 10px !important;
        }
    </style>

    <link href="/Content/a4css.css" rel="stylesheet" />

    <script type="text/javascript">

        function closeMe() {
            var win = window.open("", "_self"); /* url = "" or "about:blank"; target="_self" */
            win.close();
        }
    </script>

</head>
<body class="document">
  
    <div class="page">
        <div class="col-md-12" style="width: 95%;
    border: 1px solid black;
    padding: 20px;
    margin-top: 10px;margin-left:-2px;text-align:center;">

            <img src="~/img/carroll-print.png" style="margin-bottom:0px;" />

            <h1 style="text-align: center;
    margin-top: 0px;">
                <strong><span style="font-size: 18.0pt; line-height: 115%;">EMPLOYEE LEASE RIDER</span></strong>
            </h1>
            <form id="submitform" onsubmit="return false;">

                <p style="text-align: justify;"><span style="font-size: 9pt; line-height: 115%;"> Date :   </span>  <input type="text"  class="" value="@Model.Date.ToShortDateString()" /> </p>

                <p style="text-align: justify;"><span style="font-size: 9pt; line-height: 115%;">Name of Apartment Community :  </span> <input type="text" style="width:50%;" class="" value="@Model.Community" />  </p>

                <p style="text-align: justify;    margin-bottom: 30px !important;
"><span style="font-size: 9pt; line-height: 115%;">I, <input type="text"  class="" style="width:35%; " value="@Model.EmployeeName" />  , understand and agree to the following :  </span></p>

                <ol>
                    <li style="text-align: justify;"><span style="font-size: 9pt; line-height: 150%;">All Carroll Organization employees have the option to reside at any participating Carroll Organization community. The current market rental value of the apartment is $ <input type="text" class="allow_decimal" value="@Model.ApartmentMarketRentalValue" /> .&nbsp; The employee rental discount will be 20% off the market rental rate or the current net effective rent special.&nbsp; The monthly rent shall be $ <input type="text"  class="allow_decimal" value="@Model.EmployeeMonthlyRent" /> &nbsp; The employee rental rate shall be updated at renewal based on the market rent.</span></li>
                    <li style="text-align: justify; "><span style="font-size: 9pt; line-height: 150%;">I understand that as an employee of the Carroll Organization, rent must be paid on the 1<sup>st</sup> of the month in full. I understand that any late rental payments or NSF&rsquo;s may result in termination of employment with the Carroll Organization. Continual late payments, NSF&rsquo;s or having a writ of possession filed are grounds for immediate termination.</span></li>
                    <li style="text-align: justify; "><span style="font-size: 9pt; line-height: 150%;">If at any time during residency at <input type="text"  class="" style="width:45%;" value="@Model.Community" /> , the rental payment is received late or payment is returned NSF, all employee concessions (paragraph 1) will be void for that month and full market value and late fees will be due.</span></li>
                    <li style="text-align: justify; "><span style="font-size: 9pt; line-height: 150%;">I understand that my residency at any Carroll Organization property is strictly voluntary and in no way a requirement of my employment with Carroll Organization.</span></li>
                    <li style="text-align: justify; "><span style="font-size: 9pt; line-height: 150%;">Upon termination of my employment with Carroll Organization whether voluntary or involuntary, my lease will be terminated regardless of the lease term stated on the lease. I will not be considered a tenant of the apartment community nor will I have rights and privileges of a tenant without the written consent of the Carroll Organization.&nbsp; I further agree that upon such termination from employment, I will vacate the apartment occupied by me within <strong><u>seven days</u></strong> from the date of my termination of employment.</span></li>
                    <li style="text-align: justify; "><span style="font-size: 9pt; line-height: 150%;">If the Carroll Organization should agree to allow me to continue to lease the apartment as a resident, a new lease will be signed that shall be at the current market rate and subject to all normal lease provisions.</span></li>
                    <li style="text-align: justify; "><span style="font-size: 9pt; line-height: 150%;">Upon vacating the apartment occupied by me, for any reason, I will leave the apartment clean and in good condition.</span></li>
                    <li style="text-align: justify; "><span style="font-size: 9pt; line-height: 150%;">I hereby authorize the Carroll Organization to deduct from my payroll check amounts due for unpaid rent, other amounts due to the Carroll Organization and any expenses incurred by the Carroll Organization to clean or repair the apartment in the event that I fail to leave it clean and in good condition.</span></li>
                </ol>
                <p style="text-align: justify;">
                    <span style="font-size: 10.0pt; line-height: 115%;"> Signature of Employee  : <input type="text" class="italic" id="esignature" style="width:25%;margin-left:6%;" disabled /> </span>

                    <input style="float:right; margin-right:15%;width:23%;" value="@DateTime.Now.ToString("MM/dd/yyyy")"  type="text" id="leasedate" />
                    <span style="font-size: 14px; line-height: 115%; float:right; margin-right:10px; margin-top:10px;">Date : </span>
                </p>

                <p style="text-align: justify;margin-top:0px;">
                    <span style="font-size: 10.0pt; line-height: 115%;"> Signature of Property Manager</span> <span style="font-size: 10.0pt; line-height: 115%;"> <input type="text" class="italic" style="width:25%;" disabled value="@Model.SignatureOfPropertyManager" id="signatureproperymanager" /> </span>  <input type="text" style="float:right;margin-right:15%;" value="@Model.PMDate.Value.ToShortDateString()" disabled id="pmdate" />
                    <span style="margin-top:10px;font-size: 10.0pt;
line-height: 115%;margin-left:7px;" id="pmdatespan">Date :</span>
                </p>

                <p style="text-align: justify;"><span style="font-size: 10.0pt; line-height: 115%;text-align:left;"> Printed Name of Employee </span> <input type="text" disabled style="margin-left:25px;width:56%;" value="@Model.EmployeeName" id="printempname" /> </p>
                <p style="text-align: justify;"><span style="font-size: 10.0pt; line-height: 115%;">   Employee Email &nbsp;&nbsp;&nbsp;&nbsp; <input type="text" style="width:56%; margin-left:11%;" value="@Model.EmployeeEmail" id="employeeemail" />  </span></p>

                <p style="text-align: justify; border: none; padding: 0cm;"><span style="font-size: 10.0pt; line-height: 115%;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The Carroll Organization Employee File</span></p>

                <input type="hidden" id="Action" value="@ViewBag.Action" />
                <div id="status"> </div>
                <div class="col-md-12" style="text-align:center;margin-bottom:90px;">
                    <button class="btn btn-danger" id="closer" onclick="closeMe();">close</button>
                    <input type="button" id="Submit" value="Submit" class="btn btn-primary" />  @*<button class="btn btn-success" disabled id="print"> <i class="fa-print fa"> </i> Print </button> <button disabled class="btn btn-success" id="pdf"> <i class="fa-file-pdf-o fa"> </i> Pdf </button>*@

                </div>
            </form>

        </div>
    </div>





    <style type="text/css">


        .has-error {
            border-color: red;
        }
    </style>


    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script>

        $(document).ready(function ()
        {

            $("input").change(function (e) {
                e.preventDefault();

                if ($(this).val() == "") {
                    $(this).addClass("has-error");
                }
                else {
                    $(this).removeClass("has-error");
                }
            });

            $("input").prop("disabled", true);
            $("#esignature,#Submit").prop("disabled", false);
            $("#esignature").focus();

          //  document.getElementById("leasedate").valueAsDate = (new Date()).toLocaleString();


            function closeMe()
            {
                var win = window.open("", "_self"); /* url = "" or "about:blank"; target="_self" */
                win.close();
            }



            $("#Submit").click(function (e)
            {
                e.preventDefault();

                window.opener = window;

                var errormsgsummary = "";
                var control = "";
                $("#status").html('');

                    if ($("#esignature").val() == "") {
                        errormsgsummary += "<li> Please Enter Signature </li>";
                        $("#esignature").addClass('has-error');
                        if (control == "")
                            control = $("#esignature");
                    }


                if (errormsgsummary != "")
                {

                    $("#status").html('<ul style="float: left;text-align:left;color: red;"> ' + errormsgsummary + ' </ul> ');

                    setTimeout(ScrollToElement(control), 3000);
                    $("#Submit").prop('disabled', false);
                    return false;
                }
                else
                {

                    var insertForm = new FormData();

                    insertForm.append('action', $("#Action").val());
                    insertForm.append('refid', '@ViewBag.ReferenceId');
                     insertForm.append('empname', ' @Model.EmployeeName');

                    var axurl = "";
                    var $BaseApiUrl = "http://localhost:1002/";

                    insertForm.append('signature', $("#esignature").val());
                    insertForm.append('date', $("#leasedate").val());
                    axurl = "/Outlink/UpdateWorkflowEmployeeLeaseRiderAsync";


                    $("#status").html("<p style='color:green'> Processing ........ </p>");
                    $.ajax({
                        url: axurl,
                        type: 'POST',
                        dataType: "JSON",
                        processData: false,
                        contentType: false,
                        data: insertForm,
                        success: function (data)
                        {
                            // To-do code if ajax request is successfull
                            alert("Successfully Submitted");

                            $("#status").html("<p style='color:green'> Successfully Submitted </p> ");
                            window.opener.UpdateChildStatus(1);
                            setTimeout(function ()
                            {

                                closeMe();
                            }, 2000);


                        },
                        error: function (ts)
                        {
                            alert("Successfully Submitted");
                            $("#status").html("<p style='color:green'> Successfully Submitted </p> ");

                            setTimeout(function () { closeMe(); }, 2000);


                        }
                    });

                }


            });

        });

    </script>
</body>


</html>


